<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JELET-2024 — 100 Questions (Modern)</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --glass: rgba(255,255,255,0.03);
      --accent:#7c3aed; --accent-2:#06b6d4; --muted:#9ca3af; --glass-2: rgba(255,255,255,0.02);
      --glass-border: rgba(255,255,255,0.04);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071029 0%, #07142a 60%);color:#e6eef8}
    .wrap{max-width:1200px;margin:28px auto;padding:28px}header{display:flex;gap:20px;align-items:center;justify-content:space-between;margin-bottom:18px}
.brand{display:flex;gap:12px;align-items:center}
.logo{width:56px;height:56px;border-radius:14px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;box-shadow:0 6px 30px rgba(124,58,237,0.18), 0 2px 6px rgba(6,182,212,0.08)}
h1{font-size:18px;margin:0;color:#fff}
p.lead{margin:0;color:var(--muted);font-size:13px}

.controls{display:flex;gap:8px;align-items:center}
.btn{background:var(--glass);border:1px solid var(--glass-border);padding:8px 12px;border-radius:10px;color:#e6eef8;cursor:pointer;backdrop-filter:blur(6px);transition:transform .14s ease,box-shadow .14s}
.btn:hover{transform:translateY(-3px);box-shadow:0 8px 32px rgba(2,6,23,0.6)}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none}
.search{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--muted);min-width:200px}

.grid{display:grid;grid-template-columns:1fr 360px;gap:18px}

/* left column: questions */
.panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);padding:16px;border-radius:14px;box-shadow:0 10px 30px rgba(2,6,23,0.5)}
.section-title{display:flex;align-items:center;gap:10px;margin-bottom:12px}
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{padding:6px 10px;border-radius:999px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:var(--muted);font-size:13px;cursor:pointer}
.chip.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:none}

.questions{display:grid;gap:12px}
.qcard{background:linear-gradient(180deg,var(--card), rgba(10,14,22,0.8));border-radius:12px;padding:14px;border:1px solid var(--glass-border);display:flex;flex-direction:column;gap:8px;transition:transform .12s ease,box-shadow .12s}
.qcard:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(2,6,23,0.6)}
.qhead{display:flex;justify-content:space-between;gap:12px;align-items:center}
.qnum{background:linear-gradient(90deg,#0ea5a5, #7c3aed);padding:6px 10px;border-radius:8px;font-weight:700}
.qtxt{font-size:15px;color:#e6eef8}

.opts{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:6px}
.opt{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;cursor:pointer;color:var(--muted);font-size:14px}
.opt.correct{background:linear-gradient(90deg, rgba(34,197,94,0.12), rgba(16,185,129,0.06));border:1px solid rgba(34,197,94,0.18);color:#bbf7d0}
.opt.wrong{opacity:0.6}

.qactions{display:flex;gap:8px;align-items:center}

/* right column: formula panel */
.side{position:relative}
.formula-panel{position:sticky;top:28px;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)}
.formula-panel h3{margin:0 0 8px 0}
.formula-list{max-height:65vh;overflow:auto;padding-right:8px}
.formula-item{padding:8px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);margin-bottom:8px;background:transparent;cursor:pointer}
.formula-item:hover{background:rgba(255,255,255,0.02)}

/* modal */
.modal{position:fixed;left:0;top:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;z-index:9999}
.modal.open{display:flex}
.modal-backdrop{position:absolute;inset:0;background:linear-gradient(0deg, rgba(2,6,23,0.7), rgba(2,6,23,0.85));backdrop-filter:blur(6px)}
.modal-card{position:relative;z-index:10;max-width:900px;width:95%;background:linear-gradient(180deg,#071025,#071229);border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 30px 80px rgba(2,6,23,0.8)}

.modal-card h2{margin:0 0 8px 0}
.modal-card .explain{color:var(--muted);line-height:1.5}
.close-x{position:absolute;right:14px;top:10px;background:transparent;border:none;color:var(--muted);font-size:20px;cursor:pointer}

.formula-content{background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;margin-top:12px;border:1px solid rgba(255,255,255,0.03);color:#dbeafe}

footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}

@media (max-width:960px){.grid{grid-template-columns:1fr} .side{order:2}}

  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">JE</div>
        <div>
          <h1>JELET-2024 — 100 Questions with Solutions</h1>
          <p class="lead">Modern UI — click a question to open answer + formula. Math rendered with MathJax.</p>
        </div>
      </div><div class="controls">
    <input id="search" class="search" placeholder="Search question or term..." />
    <button class="btn" id="resetBtn">Reset</button>
    <button class="btn primary" id="expandAll">Expand All</button>
  </div>
</header>

<main class="grid">
  <section class="panel">
    <div class="section-title">
      <div class="chips">
        <button class="chip active" data-filter="all">All</button>
        <button class="chip" data-filter="math">Math</button>
        <button class="chip" data-filter="physics">Physics</button>
        <button class="chip" data-filter="chemistry">Chemistry</button>
        <button class="chip" data-filter="electrical">Electrical</button>
      </div>
    </div>

    <div id="questions" class="questions"></div>

    <footer>Built for you — modern, responsive, and math-friendly.</footer>
  </section>

  <aside class="side">
    <div class="formula-panel panel">
      <h3>Formulas & Quick Links</h3>
      <div class="formula-list" id="formulaList"></div>
      <div style="margin-top:8px;text-align:center">
        <button class="btn" id="downloadJSON">Download JSON</button>
      </div>
    </div>
  </aside>
</main>

  </div>  <!-- Modal for explanation & formula -->  <div id="modal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-backdrop" onclick="closeModal()"></div>
    <div class="modal-card" role="document">
      <button class="close-x" onclick="closeModal()">✕</button>
      <h2 id="modalTitle">Question</h2>
      <div id="modalBody" class="explain"></div>
      <div id="modalFormulas" class="formula-content"></div>
    </div>
  </div>  <script src="data.js"></script>
  <script>
  // Utility function to escape HTML for display
  function escapeHtml(unsafe) {
    return unsafe
         .replace(/&/g, "&amp;")
         .replace(/</g, "&lt;")
         .replace(/>/g, "&gt;")
         .replace(/"/g, "&quot;")
         .replace(/'/g, "&#039;");
  }

  // Function to render a single question card
  function renderQuestion(id, data) {
    const qCard = document.createElement('div');
    qCard.className = 'qcard';
    qCard.dataset.id = id;
    qCard.dataset.section = data.section;
    qCard.onclick = () => openModal(id, data);

    const qHead = document.createElement('div');
    qHead.className = 'qhead';
    qHead.innerHTML = `<div class="qnum">${id}</div><div class="qtxt">\\(${data.q}\\)</div>`;

    const opts = document.createElement('div');
    opts.className = 'opts';
    
    // Simple option parsing: assumes (A), (B), (C), (D) are the start of options in the answer string
    const options = data.answer.match(/\([A-D]\)/g) || [];
    const answerText = data.answer.replace(/\([A-D]\)\s*/, '');
    
    // For this dataset, the answer is provided as a single string, e.g., "(A) a singular matrix".
    // We will just display the answer text for simplicity, as the full options are not provided.
    // The user will see the correct answer immediately on click.
    
    // Placeholder for options display - will only show the correct answer on click
    opts.innerHTML = `<div class="opt correct">${escapeHtml(answerText)}</div>`;
    
    qCard.appendChild(qHead);
    // qCard.appendChild(opts); // Hide options until a better structure is provided

    return qCard;
  }

  // Function to render all questions
  function renderAllQuestions(filter = 'all') {
    const questionsContainer = document.getElementById('questions');
    questionsContainer.innerHTML = '';
    
    Object.keys(DATA).forEach(id => {
      const data = DATA[id];
      if (filter === 'all' || data.section === filter) {
        questionsContainer.appendChild(renderQuestion(id, data));
      }
    });
    
    // Re-render math after adding new content
    if (window.MathJax) {
      MathJax.typesetPromise([questionsContainer]);
    }
  }

  // Function to render formula list
  function renderFormulaList() {
    const formulaListContainer = document.getElementById('formulaList');
    formulaListContainer.innerHTML = '';
    
    Object.keys(DATA).forEach(id => {
      const data = DATA[id];
      if (data.hasFormula) {
        const formulaItem = document.createElement('div');
        formulaItem.className = 'formula-item';
        formulaItem.dataset.id = id;
        formulaItem.onclick = () => openModal(id, data);
        formulaItem.innerHTML = `Q${id}: ${data.section.toUpperCase()} Formula`;
        formulaListContainer.appendChild(formulaItem);
      }
    });
  }

  // Function to open the modal with question details
  function openModal(id, data) {
    document.getElementById('modalTitle').textContent = `Question ${id} - ${data.section.toUpperCase()}`;
    
    const modalBody = document.getElementById('modalBody');
    modalBody.innerHTML = `
      <p><strong>Question:</strong> \\(${data.q}\\)</p>
      <p><strong>Correct Answer:</strong> ${escapeHtml(data.answer)}</p>
      <p><strong>Explanation:</strong> ${escapeHtml(data.explanation)}</p>
    `;
    
    const modalFormulas = document.getElementById('modalFormulas');
    if (data.hasFormula) {
      modalFormulas.innerHTML = `
        <h4>Relevant Formula(s)</h4>
        <p>\\(${data.formula.replace(/<br>/g, '\\\\')}\\)</p>
      `;
      modalFormulas.style.display = 'block';
    } else {
      modalFormulas.style.display = 'none';
    }
    
    document.getElementById('modal').classList.add('open');
    
    // Re-render math inside the modal
    if (window.MathJax) {
      MathJax.typesetPromise([modalBody, modalFormulas]);
    }
  }

  // Function to close the modal
  function closeModal() {
    document.getElementById('modal').classList.remove('open');
  }

  // Event listeners for filtering
  document.querySelectorAll('.chip').forEach(chip => {
    chip.addEventListener('click', function() {
      document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
      this.classList.add('active');
      renderAllQuestions(this.dataset.filter);
    });
  });

  // Event listener for reset button
  document.getElementById('resetBtn').addEventListener('click', () => {
    document.getElementById('search').value = '';
    document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
    document.querySelector('.chip[data-filter="all"]').classList.add('active');
    renderAllQuestions('all');
  });

  // Event listener for expand all button (opens all explanations)
  document.getElementById('expandAll').addEventListener('click', () => {
    // This functionality is complex to implement with the current modal design.
    // For now, it will just show an alert or do nothing.
    alert('Expand All is not fully implemented for this version. Please click on individual questions.');
  });

  // Event listener for search
  document.getElementById('search').addEventListener('input', (e) => {
    const searchTerm = e.target.value.toLowerCase();
    const questionsContainer = document.getElementById('questions');
    questionsContainer.innerHTML = '';
    
    Object.keys(DATA).forEach(id => {
      const data = DATA[id];
      const fullText = `${data.q} ${data.answer} ${data.explanation} ${data.formula}`.toLowerCase();
      
      if (fullText.includes(searchTerm)) {
        questionsContainer.appendChild(renderQuestion(id, data));
      }
    });
    
    // Re-render math after adding new content
    if (window.MathJax) {
      MathJax.typesetPromise([questionsContainer]);
    }
  });

  // Event listener for download JSON
  document.getElementById('downloadJSON').addEventListener('click', () => {
    const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(DATA, null, 2));
    const downloadAnchorNode = document.createElement('a');
    downloadAnchorNode.setAttribute("href", dataStr);
    downloadAnchorNode.setAttribute("download", "jelet_2024_data.json");
    document.body.appendChild(downloadAnchorNode);
    downloadAnchorNode.click();
    downloadAnchorNode.remove();
  });

  // Initial render
  window.onload = () => {
    renderAllQuestions();
    renderFormulaList();
  };
  </script>
</body>
</html>
